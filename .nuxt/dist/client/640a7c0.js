(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{581:function(e,t,r){"use strict";r.r(t);r(40);var o=r(23),n=(r(55),r(431)),l=r(432),d={components:{ValidationProvider:n.a,ValidationObserver:l.a},data:function(){return{name:null,phone:null,town:null,address:null,email:null,password:null,confirmation:null,apiErrors:[],loading:!1}},methods:{onSubmit:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,r={name:e.name,phone:e.phone,email:e.email,address:e.address,location:e.town,password:e.password},t.next=5,e.$http.$post("users/register",JSON.stringify(r),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){console.log("response is "+e)}));case 5:return t.next=7,e.$auth.loginWith("local",{data:{email:e.email,password:e.password}});case 7:e.loading=!1,e.$router.push("/account/dashboard"),e.$toast.success("Registration successful!"),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),e.loading=!1,console.log(t.t0.response.data.message),e.apiErrors=t.t0.response.data.message;case 17:case"end":return t.stop()}}),t,null,[[1,12]])})))()}},head:function(){var e="Liquor Spring – the swiftest way to order alcohol online in Nairobi. Call 0705646186. Enjoy free drinks delivery in 20 mins at affordable prices",t="Liquor Spring – Free alcohol delivery services at best prices";return{title:t,meta:[{hid:"description",name:"description",content:e},{hid:"og:title",name:"og:title",content:t},{hid:"og:description",name:"og:description",content:e},{hid:"og:type",name:"og:type",content:"website"}]}}},c=r(57),component=Object(c.a)(d,(function(){var e=this,t=e._self._c;return t("div",[t("section",{staticClass:"py-5"},[t("div",{staticClass:"container py-5"},[e._m(0),e._v(" "),e.apiErrors.length>0?t("b-alert",{attrs:{show:"show",variant:"danger",dismissible:""}},e._l(e.apiErrors,(function(r,o){return t("ul",{key:o},[t("li",[e._v(e._s(r))])])})),0):e._e(),e._v(" "),t("div",{staticClass:"card my-3 rounded-0 p-4 shadow",staticStyle:{"border-left":"3px solid #EC2326"}},[t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(r){var o=r.handleSubmit;return[t("form",{attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),o(e.onSubmit)}}},[t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("ValidationProvider",{attrs:{name:"name",rules:"required|alpha_spaces"},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.errors;return[t("label",{attrs:{for:"name"}},[e._v("Your Name"),t("small",{staticClass:"text-danger"},[e._v("*")])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Name",id:"name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),t("small",{staticClass:"text-danger"},[e._v(e._s(o[0]))])]}}],null,!0)})],1),e._v(" "),t("div",{staticClass:"form-group col-md-6"},[t("ValidationProvider",{attrs:{name:"phone",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.errors;return[t("label",{attrs:{for:"phone"}},[e._v("Phone Number"),t("small",{staticClass:"text-danger"},[e._v("*")])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"form-control",attrs:{type:"text",id:"phone",placeholder:"Enter Phone number"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}}),e._v(" "),t("small",{staticClass:"text-danger"},[e._v(e._s(o[0]))])]}}],null,!0)})],1)]),e._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"town"}},[e._v("Area of residence")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.town,expression:"town"}],staticClass:"form-control",attrs:{type:"text",id:"town",placeholder:"eg. Kilimani"},domProps:{value:e.town},on:{input:function(t){t.target.composing||(e.town=t.target.value)}}})])]),e._v(" "),t("div",{staticClass:"form-group col-md-6"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"address"}},[e._v("Road / Apartment / House No.")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],staticClass:"form-control",attrs:{type:"text",id:"address",placeholder:"eg. Peponi Rd, Peponi View apartment, house 124 "},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})])])]),e._v(" "),t("div",{staticClass:"form-group"},[t("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.errors;return[t("label",{attrs:{for:"email"}},[e._v("Email"),t("small",{staticClass:"text-danger"},[e._v("*")])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Enter valid email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),t("small",{staticClass:"text-danger"},[e._v(e._s(o[0]))])]}}],null,!0)})],1),e._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("ValidationProvider",{attrs:{name:"password",rules:"required|min:6|confirmed:confirmation"},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.errors;return[t("label",{attrs:{for:"password"}},[e._v("Password"),t("small",{staticClass:"text-danger"},[e._v("*")])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Enter password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),t("small",{staticClass:"text-danger"},[e._v(e._s(o[0]))])]}}],null,!0)})],1),e._v(" "),t("div",{staticClass:"form-group col-md-6"},[t("ValidationProvider",{attrs:{name:"confirmation",vid:"confirmation"},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.errors;return[t("label",{attrs:{for:"confirmation"}},[e._v("Confirm Password"),t("small",{staticClass:"text-danger"},[e._v("*")])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmation,expression:"confirmation"}],staticClass:"form-control",attrs:{type:"password",id:"confirmation",placeholder:"Confirm your password"},domProps:{value:e.confirmation},on:{input:function(t){t.target.composing||(e.confirmation=t.target.value)}}}),e._v(" "),t("small",{staticClass:"text-danger"},[e._v(e._s(o[0]))])]}}],null,!0)})],1)]),e._v(" "),t("button",{staticClass:"btn btn-primary mb-2",attrs:{type:"submit"}},[e._v("\n             "+e._s(e.loading?"Processing...":"Register")+" \n              ")]),e._v(" "),t("p",[e._v("Already have an account?\n              "),t("nuxt-link",{attrs:{to:"/account/login"}},[e._v(" Login")])],1)])]}}])})],1)],1)])])}),[function(){var e=this._self._c;return e("h5",{staticClass:"text-success"},[e("strong",[this._v("Register")])])}],!1,null,null,null);t.default=component.exports}}]);