const t=Array.prototype.map,r=Array.isArray,n=Object.prototype.toString;function o(t){return!!(""===t||t&&t.charCodeAt&&t.substr)}function e(t){return r?r(t):"[object Array]"===n.call(t)}function a(t){return t&&"[object Object]"===n.call(t)}function s(t,r){var n;for(n in t=t||{},r=r||{})r.hasOwnProperty(n)&&null==t[n]&&(t[n]=r[n]);return t}function i(r,n,o){if(!r)return[];if(t&&r.map===t)return r.map(n,o);const e=[];let a=0,s=0;for(a=0,s=r.length;a<s;a++)e[a]=n.call(o,r[a],a,r);return e}const c={settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}};function u(t,r=0){return t=Math.round(Math.abs(t)),isNaN(t)?r:t}const l=function(t,r){if(e(t))return i(t,function(t){return l(t,r)});if("number"==typeof(t=t||0))return t;r=r||c.settings.number.decimal;var n=new RegExp("[^0-9-"+r+"]",["g"]),o=parseFloat((""+t).replace(/\((?=\d+)(.*)\)/,"-$1").replace(n,"").replace(r,"."));return isNaN(o)?0:o},p=function(t,r){r=u(r,c.settings.number.precision);var n=Number(l(t)+"e"+r),o=Math.round(n);return Number(o+"e-"+r).toFixed(r)},m=function(t,r,n,o,f){if(e(t))return i(t,function(t){return m(t,r,n,o,f)});t=l(t);var y=s(a(r)?r:{precision:r,thousand:n,decimal:o},c.settings.number),d=u(y.precision),b=t<0?"-":"",g=parseInt(p(Math.abs(t||0),d),10)+"",h=g.length>3?g.length%3:0,v="";return d&&(v=y.decimal+p(Math.abs(t),d).split(".")[1],void 0!==f&&parseInt(p(Math.abs(t||0),1),10)==t&&(v=""===f?"":y.decimal+f)),b+(h?g.substr(0,h)+y.thousand:"")+g.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+y.thousand)+v},f=function(t,r,n,p,y,d,b){if(e(t))return i(t,function(t){return f(t,r,n,p,y,d,b)});t=l(t);var g=s(a(r)?r:{symbol:r,precision:n,thousand:p,decimal:y,format:d,avoidEmptyDecimals:b},c.settings.currency),h=function(t){var r=c.settings.currency.format;return"function"==typeof t&&(t=t()),o(t)&&t.match("%v")?{pos:t,neg:t.replace("-","").replace("%v","-%v"),zero:t}:t&&t.pos&&t.pos.match("%v")?t:o(r)?c.settings.currency.format={pos:r,neg:r.replace("%v","-%v"),zero:r}:r}(g.format);return(t>0?h.pos:t<0?h.neg:h.zero).replace("%s",g.symbol).replace("%v",m(Math.abs(t),u(g.precision),g.thousand,g.decimal,g.avoidEmptyDecimals))},y={name:"currency",symbol:"",thousandsSeparator:".",fractionCount:0,fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0,avoidEmptyDecimals:void 0},d={install(t,r){const n=r=>{null==r&&(r={});const n=s(r,y);let{name:o,...e}=n;const a=function(t,r,n,o,a,i,c,u){let l=s({symbol:r,thousandsSeparator:n,fractionCount:o,fractionSeparator:a,symbolPosition:i,symbolSpacing:c,avoidEmptyDecimals:u},e);"object"==typeof r&&(l=s(r,e));let m=0;const y="-"===String(t).charAt(0);y&&(t=String(t).slice(1));const d=parseFloat(t);isNaN(d)||(m=d);let b="%s%v";return b="front"===l.symbolPosition?l.symbolSpacing?"%s %v":"%s%v":l.symbolSpacing?"%v %s":"%v%s",l.fractionCount>0&&(t=p(t,l.fractionCount)),m=f(t,{format:b,symbol:l.symbol,precision:l.fractionCount,thousand:l.thousandsSeparator,decimal:l.fractionSeparator,avoidEmptyDecimals:l.avoidEmptyDecimals}),y&&(m="-"+m),m};t.filter(o,a),t.prototype["$"+o]={setConfig:t=>{e=s(t,y)},getConfig:()=>e,format:a}};Array.isArray(r)?r.forEach(t=>n(t)):n(r)}};export default d;
//# sourceMappingURL=vue-currency-filter.modern.js.map
