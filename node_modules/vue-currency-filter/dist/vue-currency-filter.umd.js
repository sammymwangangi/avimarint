!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(r=r||self).VueCurrencyFilter=n()}(this,function(){var r=Array.prototype.map,n=Array.isArray,t=Object.prototype.toString;function e(r){return!!(""===r||r&&r.charCodeAt&&r.substr)}function o(r){return n?n(r):"[object Array]"===t.call(r)}function a(r){return r&&"[object Object]"===t.call(r)}function i(r,n){var t;for(t in r=r||{},n=n||{})n.hasOwnProperty(t)&&null==r[t]&&(r[t]=n[t]);return r}function s(n,t,e){if(!n)return[];if(r&&n.map===r)return n.map(t,e);var o,a=[],i=0;for(i=0,o=n.length;i<o;i++)a[i]=t.call(e,n[i],i,n);return a}var c={settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}};function u(r,n){return void 0===n&&(n=0),r=Math.round(Math.abs(r)),isNaN(r)?n:r}var f=function r(n,t){if(o(n))return s(n,function(n){return r(n,t)});if("number"==typeof(n=n||0))return n;t=t||c.settings.number.decimal;var e=new RegExp("[^0-9-"+t+"]",["g"]),a=parseFloat((""+n).replace(/\((?=\d+)(.*)\)/,"-$1").replace(e,"").replace(t,"."));return isNaN(a)?0:a},l=function(r,n){n=u(n,c.settings.number.precision);var t=Number(f(r)+"e"+n),e=Math.round(t);return Number(e+"e-"+n).toFixed(n)},p={name:"currency",symbol:"",thousandsSeparator:".",fractionCount:0,fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0,avoidEmptyDecimals:void 0};return{install:function(r,n){var t=function(n){null==n&&(n={});var t=i(n,p),m=t.name,d=function(r,n){if(null==r)return{};var t,e,o={},a=Object.keys(r);for(e=0;e<a.length;e++)n.indexOf(t=a[e])>=0||(o[t]=r[t]);return o}(t,["name"]),y=function(r,n,t,p,m,y,v,b){var g=i({symbol:n,thousandsSeparator:t,fractionCount:p,fractionSeparator:m,symbolPosition:y,symbolSpacing:v,avoidEmptyDecimals:b},d);"object"==typeof n&&(g=i(n,d));var h=0,S="-"===String(r).charAt(0);S&&(r=String(r).slice(1));var C,A=parseFloat(r);return isNaN(A)||(h=A),C="front"===g.symbolPosition?g.symbolSpacing?"%s %v":"%s%v":g.symbolSpacing?"%v %s":"%v%s",g.fractionCount>0&&(r=l(r,g.fractionCount)),h=function r(n,t,p,m,d,y,v){if(o(n))return s(n,function(n){return r(n,t,p,m,d,y,v)});n=f(n);var b=i(a(t)?t:{symbol:t,precision:p,thousand:m,decimal:d,format:y,avoidEmptyDecimals:v},c.settings.currency),g=function(r){var n=c.settings.currency.format;return"function"==typeof r&&(r=r()),e(r)&&r.match("%v")?{pos:r,neg:r.replace("-","").replace("%v","-%v"),zero:r}:r&&r.pos&&r.pos.match("%v")?r:e(n)?c.settings.currency.format={pos:n,neg:n.replace("%v","-%v"),zero:n}:n}(b.format);return(n>0?g.pos:n<0?g.neg:g.zero).replace("%s",b.symbol).replace("%v",function r(n,t,e,p,m){if(o(n))return s(n,function(n){return r(n,t,e,p,m)});n=f(n);var d=i(a(t)?t:{precision:t,thousand:e,decimal:p},c.settings.number),y=u(d.precision),v=n<0?"-":"",b=parseInt(l(Math.abs(n||0),y),10)+"",g=b.length>3?b.length%3:0,h="";return y&&(h=d.decimal+l(Math.abs(n),y).split(".")[1],void 0!==m&&parseInt(l(Math.abs(n||0),1),10)==n&&(h=""===m?"":d.decimal+m)),v+(g?b.substr(0,g)+d.thousand:"")+b.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+d.thousand)+h}(Math.abs(n),u(b.precision),b.thousand,b.decimal,b.avoidEmptyDecimals))}(r,{format:C,symbol:g.symbol,precision:g.fractionCount,thousand:g.thousandsSeparator,decimal:g.fractionSeparator,avoidEmptyDecimals:g.avoidEmptyDecimals}),S&&(h="-"+h),h};r.filter(m,y),r.prototype["$"+m]={setConfig:function(r){d=i(r,p)},getConfig:function(){return d},format:y}};Array.isArray(n)?n.forEach(function(r){return t(r)}):t(n)}}});
//# sourceMappingURL=vue-currency-filter.umd.js.map
